(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7df13ac8"],{"34a7":function(t,e,a){},"3b6a":function(t,e,a){"use strict";a("34a7")},"4f9e":function(t,e,a){},"7d08":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",[a("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"Task List"}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("div",{staticClass:"extra-item"},[a("a-radio-group",{model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("a-radio-button",{attrs:{value:"all"},on:{click:function(e){return t.checkTask("all")}}},[t._v("ALL")]),a("a-radio-button",{attrs:{value:"todo"},on:{click:function(e){return t.checkTask("todo")}}},[t._v("To Do")]),a("a-radio-button",{attrs:{value:"processing"},on:{click:function(e){return t.checkTask("processing")}}},[t._v("Processing")]),a("a-radio-button",{attrs:{value:"finished"},on:{click:function(e){return t.checkTask("finished")}}},[t._v("Finished")])],1)],1),a("a-range-picker",{style:{width:"256px"},attrs:{value:[t.startDate,t.endDate],format:t.dateFormat},on:{change:t.onChangeRangePicker}})],1),a("div",{staticClass:"operate"},[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed",icon:"plus"},on:{click:t.add}},[t._v("New Task")])],1),a("a-table",{ref:"taskTable",attrs:{rowKey:"id",columns:t.tblColumns,"data-source":t.taskList,loading:t.loading},scopedSlots:t._u([{key:"operation",fn:function(e,r){return[a("a",{on:{click:function(e){return t.edit(r)}}},[t._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"Are you sure to delete this task?",placement:"topRight"},on:{confirm:function(e){return t.remove(r)}}},[a("a",[t._v("Delete")])])]}}])})],1)],1)},n=[],o=(a("4de4"),a("d3b7"),a("c1df")),s=a.n(o),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"Task Name",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Please input task name"}]}],expression:"['name', {rules:[{required: true, message: 'Please input task name'}]}]"}]})],1),a("a-form-item",{attrs:{label:"Start Time",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startAt",{rules:[{required:!0,message:"Please choose start time"}]}],expression:"['startAt', {rules:[{required: true, message: 'Please choose start time'}]}]"}],staticStyle:{width:"100%"},attrs:{valueFormat:"YYYY-MM-DD HH:mm"}})],1),a("a-form-item",{attrs:{label:"End Time",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endAt",{rules:[{required:!0,message:"Please choose end time"}]}],expression:"['endAt', {rules:[{required: true, message: 'Please choose end time'}]}]"}],staticStyle:{width:"100%"},attrs:{valueFormat:"YYYY-MM-DD HH:mm"}})],1),a("a-form-item",{attrs:{label:"Description",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}]})],1),a("a-form-item",{attrs:{label:"Directory",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["directory"],expression:"['directory']"}]})],1),a("a-form-item",{attrs:{label:"Remark",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}]})],1)],1)},l=[],c=a("88bc"),u=a.n(c),d=["id","name","startAt","endAt","description","directory","remark"],f={name:"TaskForm",props:{record:{type:Object,default:null}},data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},form:this.$form.createForm(this)}},mounted:function(){this.record&&this.form.setFieldsValue(u()(this.record,d))},methods:{onOk:function(){var t=this;console.log("listen modal ok event");var e=this.form.validateFields;return new Promise((function(a,r){e((function(e,n){if(e)r(e);else{var o=Object.assign({},t.record,n);t.$emit("callback",o),a(!0)}}))}))},onCancel:function(){return console.log("listen modal cancel event"),new Promise((function(t){t(!0)}))}}},m=f,p=a("2877"),k=Object(p["a"])(m,i,l,!1,null,null,null),b=k.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-info"},[a("span",[t._v(t._s(t.title))]),a("p",[t._v(t._s(t.value))]),t.bordered?a("em"):t._e()])},v=[],g={name:"Info",props:{title:{type:String,default:""},value:{type:String,default:""},bordered:{type:Boolean,default:!1}}},w=g,y=(a("3b6a"),Object(p["a"])(w,h,v,!1,null,"79fa4e49",null)),C=y.exports,D=a("b199"),T=[{title:"Task Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Start Time",dataIndex:"startAt",key:"startAt",sorter:function(t,e){return new Date(t.startAt)-new Date(e.startAt)},scopedSlots:{customRender:"startAt"}},{title:"End Time",dataIndex:"endAt",key:"endAt",sorter:function(t,e){return Date.parse(t.endAt)-Date.parse(e.endAt)},scopedSlots:{customRender:"endAt"}},{title:"Directory",dataIndex:"directory",key:"directory"},{title:"Remark",dataIndex:"remark",key:"remark"},{title:"Operation",key:"operation",width:120,scopedSlots:{customRender:"operation"}}],j={name:"TaskList",components:{TaskForm:b,Info:C},data:function(){return{loading:!1,status:"all",dateFormat:"YYYY/MM/DD",startDate:s()().add(-7,"days"),endDate:s()(),tblColumns:T,taskList:[]}},created:function(){this.init()},methods:{init:function(){this.reloadData()},loadTaskList:function(){var t=this,e={status:this.status,startDate:this.startDate,endDate:this.endDate};return Object(D["a"])(e).then((function(e){t.taskList=e.data||[]})).catch((function(e){console.log("loadTaskList.err",e),t.$message.error("Error on loading task list")}))},add:function(){var t=this;console.log("add"),this.$dialog(b,{record:{},on:{callback:function(e){var a=this;Object(D["c"])(e).then((function(a){e.id=a.data.taskId,t.taskList.push(e),t.reloadData()})).catch((function(t){a.$notification["error"]({message:"Error",description:t||"Error on saving task.",duration:4})}))},close:function(){console.log("modal close callback")},ok:function(){console.log("ok callback")},cancel:function(){console.log("cancel callback")}}},{title:"New Task",width:700,centered:!0,maskClosable:!1})},edit:function(t){var e=this;console.log("record",t),this.$dialog(b,{record:t,on:{callback:function(t){console.log("callback ",t),Object(D["d"])(t).then((function(t){for(var a=t.data[0],r=0;r<e.taskList.length;r++)if(e.taskList[r].id===a.id){Object.assign(e.taskList[r],a);break}})).catch((function(t){e.$notification["error"]({message:"Error",description:t||"Error on updating task.",duration:4})}))},close:function(){console.log("modal close callback")},ok:function(){console.log("ok callback")},cancel:function(){console.log("cancel callback")}}},{title:"Edit Task",width:700,centered:!0,maskClosable:!1})},remove:function(t){var e=this;console.log("remove"),Object(D["b"])({id:t.id}).then((function(a){console.log("task removed with id",a.taskId),e.taskList=e.taskList.filter((function(e){return e.id!==t.id}))})).catch((function(t){e.$notification["error"]({message:"error",description:t||"Error on deleting task.",duration:4})}))},onSearch:function(t){console.log(t)},onChangeRangePicker:function(t,e){this.startDate=t[0],this.endDate=t[1],this.reloadData()},reloadData:function(){this.loadTaskList()},checkTask:function(t){this.status=t,this.reloadData()}}},x=j,A=(a("b40f"),Object(p["a"])(x,r,n,!1,null,"10842bf1",null));e["default"]=A.exports},"88bc":function(t,e,a){(function(e){var a=1/0,r=9007199254740991,n="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",i="[object Symbol]",l="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function d(t,e,a){switch(a.length){case 0:return t.call(e);case 1:return t.call(e,a[0]);case 2:return t.call(e,a[0],a[1]);case 3:return t.call(e,a[0],a[1],a[2])}return t.apply(e,a)}function f(t,e){var a=-1,r=t?t.length:0,n=Array(r);while(++a<r)n[a]=e(t[a],a,t);return n}function m(t,e){var a=-1,r=e.length,n=t.length;while(++a<r)t[n+a]=e[a];return t}var p=Object.prototype,k=p.hasOwnProperty,b=p.toString,h=u.Symbol,v=p.propertyIsEnumerable,g=h?h.isConcatSpreadable:void 0,w=Math.max;function y(t,e,a,r,n){var o=-1,s=t.length;a||(a=j),n||(n=[]);while(++o<s){var i=t[o];e>0&&a(i)?e>1?y(i,e-1,a,r,n):m(n,i):r||(n[n.length]=i)}return n}function C(t,e){return t=Object(t),D(t,e,(function(e,a){return a in t}))}function D(t,e,a){var r=-1,n=e.length,o={};while(++r<n){var s=e[r],i=t[s];a(i,s)&&(o[s]=i)}return o}function T(t,e){return e=w(void 0===e?t.length-1:e,0),function(){var a=arguments,r=-1,n=w(a.length-e,0),o=Array(n);while(++r<n)o[r]=a[e+r];r=-1;var s=Array(e+1);while(++r<e)s[r]=a[r];return s[e]=o,d(t,this,s)}}function j(t){return O(t)||A(t)||!!(g&&t&&t[g])}function x(t){if("string"==typeof t||Y(t))return t;var e=t+"";return"0"==e&&1/t==-a?"-0":e}function A(t){return S(t)&&k.call(t,"callee")&&(!v.call(t,"callee")||b.call(t)==n)}var O=Array.isArray;function _(t){return null!=t&&E(t.length)&&!L(t)}function S(t){return P(t)&&_(t)}function L(t){var e=F(t)?b.call(t):"";return e==o||e==s}function E(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function F(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function P(t){return!!t&&"object"==typeof t}function Y(t){return"symbol"==typeof t||P(t)&&b.call(t)==i}var I=T((function(t,e){return null==t?{}:C(t,f(y(e,1),x))}));t.exports=I}).call(this,a("c8ba"))},b199:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return l}));var r=a("b775"),n={saveTask:"/task/save",removeTask:"/task/remove",listTask:"/task/list",updateTask:"/task/update"};function o(t){return Object(r["b"])({url:n.listTask,method:"post",data:t})}function s(t){return Object(r["b"])({url:n.removeTask,method:"post",data:t})}function i(t){return Object(r["b"])({url:n.saveTask,method:"post",data:t})}function l(t){return Object(r["b"])({url:n.updateTask,method:"post",data:t})}},b40f:function(t,e,a){"use strict";a("4f9e")}}]);