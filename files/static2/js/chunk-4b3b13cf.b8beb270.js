(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b3b13cf"],{"45a8":function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-card",{attrs:{tabList:a.tabList,bordered:!1,"body-style":{padding:"0"},activeTabKey:a.tabActiveKey},on:{tabChange:function(e){return a.handleTabChange(e)}}},["1"===a.tabActiveKey?t("package-info"):"2"===a.tabActiveKey?t("function-graph"):a._e(),t("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[t("a-input-search",{staticStyle:{width:"90%","max-width":"522px"},attrs:{placeholder:"key words site search"},on:{search:a.onSearch}})],1)],1)},c=[],r=(t("ac1f"),t("5319"),t("680a")),o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-row",{attrs:{gutter:24}},[t("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:6,lg:24,md:24,sm:24,xs:24}},[t("a-card",{staticClass:"ant-pro-components-tag-select",attrs:{bordered:!1,title:"Dependent Packages"}},[t("a-form",{attrs:{form:a.form,layout:"inline"}},[t("standard-form-row",{staticStyle:{"padding-bottom":"11px"},attrs:{block:""}},[t("a-form-item",[a.depPackages&&a.depPackages.length>0?t("tag-select",{on:{change:a.handleTagSelectChange}},a._l(a.depPackages,(function(e,n){return t("tag-select-option",{key:n,attrs:{value:e.key,checked:e.checked}},[a._v(" "+a._s(e.value)+" ")])})),1):a._e()],1)],1)],1)],1)],1),t("a-col",{attrs:{xl:18,lg:24,md:24,sm:24,xs:24}},[t("a-card",{style:{marginBottom:"24px"},attrs:{bordered:!1}},[t("f-graph",{attrs:{loading:a.loading,data:a.graphData,width:a.width,height:a.height,title:a.title}})],1)],1)],1)},i=[],s=(t("d3b7"),t("159b"),t("7db0"),t("d81d"),t("4de4"),t("caad"),t("2532"),t("c740"),t("2af9")),u=t("a1f4"),l=s["m"].Option,d={name:"FunctionGraph",components:{FGraph:s["f"],TagSelect:s["m"],TagSelectOption:l,StandardFormRow:s["l"]},data:function(){return{packageName:null,allData:[],graphData:[],width:1e3,height:600,loading:!0,title:"",depPackages:[],pkgNames:[]}},created:function(){this.packageName=this.$route.params.packageName,this.init()},methods:{init:function(){this.reloadData()},loadFunctionGraph:function(){var a=this;return new Promise((function(e,t){return Object(u["b"])({packageName:a.packageName}).then((function(t){a.allData=t,a.pkgNames=t.packages,a.allData.packages.forEach((function(e){a.depPackages.push({key:e,value:e,checked:!0})})),a.depPackages.find((function(a){return"base"===a.key})).checked=!1,a.pkgNames=a.depPackages.filter((function(a){return a.checked})).map((function(a){return a.key})),a.refreshData(),e(!0)})).catch((function(e){console.log("loadFunctionGraph.err",e),a.$message.error("Fail to load function graph!"),t(e)})).finally((function(){a.loading=!1}))}))},reloadData:function(){this.loadFunctionGraph()},refreshData:function(){var a=this,e={packages:this.pkgNames,edges:this.allData.edges,nodes:this.allData.nodes.filter((function(e){return a.pkgNames.includes(e.package)}))};this.graphData=e},handleTagSelectChange:function(a){var e=a.value,t=a.checked,n=this.depPackages;if("total"===e)t?(this.pkgNames=n.map((function(a){return a.key})),n=n.map((function(a){return a.checked=!0,a}))):(this.pkgNames=[],n=n.map((function(a){return a.checked=!1,a})));else{var c=n.findIndex((function(a){return a.key===e}));n[c].checked=t}this.pkgNames=n.filter((function(a){return a.checked})).map((function(a){return a.key})),this.refreshData()}}},g=d,h=(t("94db0"),t("2877")),p=Object(h["a"])(g,o,i,!1,null,"10b6f618",null),f=p.exports,k=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-card",{style:{marginBottom:"24px"},attrs:{loading:a.loading,bordered:!1}},[t("info-page",{attrs:{data:a.packageInfo,width:a.width,height:a.height,title:a.packageName,level:a.listLevel}})],1)},m=[],b={name:"PackageInfo",components:{InfoPage:s["g"]},data:function(){return{packageName:"",packageInfo:[],width:1e3,height:600,loading:!0,listLevel:"Function"}},created:function(){this.packageName=this.$route.params.packageName,this.init()},methods:{init:function(){this.reloadData()},loadPackageInfo:function(){var a=this;return Object(u["f"])({packageName:this.packageName}).then((function(e){var t=e.packageInfo["package"],n=e.packageInfo["Rd"];a.packageInfo={descriptions:t,functionList:n}})).catch((function(e){console.log("loadPackageInfo.err",e),a.$message.error("Fail to load package info!")})).finally((function(){a.loading=!1}))},reloadData:function(){this.packageInfo=[],this.loadPackageInfo()}}},P=b,v=Object(h["a"])(P,k,m,!1,null,"414200cf",null),y=v.exports,w=t("f62d"),I={name:"PackageBase",components:{RouteView:r["c"],PageView:r["b"],FunctionGraph:f,PackageInfo:y},data:function(){return{tabList:[{key:"1",tab:"Package Info"},{key:"2",tab:"Function Graph"}],tabActiveKey:"1",search:!0,packageName:null,searchUrl:"https://www.r-project.org",hasInternet:!0}},created:function(){this.packageName=this.$route.params.packageName},methods:{handleTabChange:function(a){this.tabActiveKey=a},onSearch:function(a){var e=this;this.buildSearchUrl(a),console.info("searchUrl",this.searchUrl),Object(w["a"])().then((function(a){a?window.open(e.searchUrl,"_blank"):e.$message.info("Failed to connect to Internet!")}))},buildSearchUrl:function(a){var e="http://search.r-project.org/cgi-bin/namazu.cgi?query=%K&max=20&result=normal&sort=score&idxname=vignettes";this.searchUrl=e.replace("%K",a)}}},N=I,x=(t("d882"),Object(h["a"])(N,n,c,!1,null,"98fed080",null));e["default"]=x.exports},"53c8":function(a,e,t){},"94db0":function(a,e,t){"use strict";t("bf2e")},a1f4:function(a,e,t){"use strict";t.d(e,"g",(function(){return r})),t.d(e,"a",(function(){return o})),t.d(e,"c",(function(){return i})),t.d(e,"h",(function(){return s})),t.d(e,"e",(function(){return u})),t.d(e,"f",(function(){return l})),t.d(e,"b",(function(){return d})),t.d(e,"d",(function(){return g}));var n=t("b775"),c={FirstLetters:"/package/getFirstLetters",FunctionGraph:"/package/getFunctionGraph",LocalPackages:"/package/getLocalPackages",PackageTable:"/package/getPackageTable",PackageSimple:"/package/getPackageSimple",PackageInfo:"/package/getPackageInfo",PackageGraph:"/package/getPackageGraph",PackageDemo:"/package/getPackageDemo"};function r(a){return Object(n["b"])({url:c.PackageSimple,method:"post",data:a})}function o(a){return Object(n["b"])({url:c.FirstLetters,method:"post",data:a})}function i(a){return Object(n["b"])({url:c.LocalPackages,method:"post",data:a})}function s(a){return Object(n["b"])({url:c.PackageTable,method:"post",data:a})}function u(a){return Object(n["b"])({url:c.PackageGraph,method:"post",data:a})}function l(a){return Object(n["b"])({url:c.PackageInfo,method:"get",params:a})}function d(a){return Object(n["b"])({url:c.FunctionGraph,method:"get",params:a})}function g(a){return Object(n["b"])({url:c.PackageDemo,method:"post",data:a})}},bf2e:function(a,e,t){},d882:function(a,e,t){"use strict";t("53c8")},f62d:function(a,e,t){"use strict";t.d(e,"a",(function(){return r}));var n=t("b775"),c={HasInternet:"/utils/hasInternet"};function r(a){return Object(n["b"])({url:c.HasInternet,method:"post",data:a})}}}]);